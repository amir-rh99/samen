<app-dialog [content]="dialog"></app-dialog>
<div class="services col-12">
    <h6 class="services__title">
      <i class="fa fa-map-o" aria-hidden="true"></i>
      وضعیت سرویس های: {{nickname}}
    </h6>
    <hr>
    <app-loading [content]="services"></app-loading>
  
  <section *ngIf="services">
    <div class="row">

      <div class="col-6 col-md-3 text-center">
        <div class="service-card">
          <div class="text-center service-card__title">
            <a routerLink="/business-partner/managerial/{{userId}}">
              خلاصه مدیریتی
            </a>
          </div>
  
          <div class="image-wrapper text-center">
            <a routerLink="/business-partner/managerial/{{userId}}">
                <img src="../../../assets/images/prof_1.png"
                  class="service-card__image " alt="service-icon">
            </a>
          </div>

        </div>
      </div>
      <div class="col-6 col-md-3 text-center" *ngFor="let service of services">
  
        <div class="service-card">
          <div class="text-center service-card__title">
            <a routerLink="/{{service.route}}/result/{{userId}}">
              {{service.title}}
            </a>
          </div>
          <div class="image-wrapper text-center">
            <a *ngIf="service.route" routerLink="/{{service.route}}/result/{{userId}}">
              <img *ngIf=" service?.serviceStatus?.length === 0 || service.serviceStatus[service.serviceStatus.length - 1]?.status == 1; else otherImage" src="{{base_url + service.icon}}"
                class="service-card__image rounded-circle  rounded-circle service-card__image--disable" alt="service-icon">
              <ng-template #otherImage>
                <img src="{{base_url + service.icon}}"
                  class="service-card__image" alt="service-icon">
              </ng-template>
            </a>
          </div>
          <!-- <p class="service-card__description">
            {{service.slogan}} ...
          </p> -->
        </div>
      </div>
    </div>
  </section>

  </div>

  <section class="comments text-right no-print">
    <h1 class="comments__title">
      نظر جدید در پرونده کاربر
    </h1>
    <app-send-comment [moduleId]="'record'" [userBpId]="userId"></app-send-comment>
    <div class="comments" *ngIf="recordsList?.length !== 0">
      <div *ngFor="let comment of recordsList">
        <app-comment-box [comment]="comment"></app-comment-box>
      </div>
    </div>
    <!-- <app-send-comment [parentId]="null" [moduleId]="content"></app-send-comment> -->
    <!-- <div class="comments" *ngIf="pendingComments?.length !== 0">
      <div *ngFor="let comment of pendingComments">
        <app-comment-box [comment]="comment"></app-comment-box>
      </div>
    </div>
    <div class="comments" *ngIf="commentsList?.length !== 0">
      <div *ngFor="let comment of commentsList">
        <app-comment-box [comment]="comment"></app-comment-box>
      </div>
    </div> -->
  </section>
  <!-- <form class="comment__wrapper leave-comment" (ngSubmit)="sendComment()">
    <div class="row">
      <div class="col-auto comment__image-wrapper d-none d-md-block">
        <img src="{{base_url}}/users/{{userId}}/avatar" class="comment__comment-image rounded-circle" alt="">
      </div>
      <div id="myText" class="comment__main-section col">
        <div class="form-group">
          <textarea id="commentArea" class="form-control" #textArea rows="3" placeholder="نظر شما..."
            [formControl]="textComment"></textarea>
        </div>
      </div>
    </div>
    <div class="form-buttons text-left">
      <button type="reset" class="btn px-4 py-2 btn-outline-secondary cancel-btn">انصراف</button>
      <button type="submit" class="btn px-5 py-2 send-btn position-relative">
          ارسال
      </button>
    </div>
  </form> -->